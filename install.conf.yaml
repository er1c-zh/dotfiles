- defaults:
    link:
        relink: true
    shell:
        stdout: true
        stderr: true

- shell:
    - ['git submodule update --init --recursive', 'Install submodules.']

- create:
    - ~/bin
    - ~/tmp
    - ~/opt

- link:
    ~/.vim: vim
    ~/.vimrc: vim/vimrc
    ~/.vimrc.bundles: vim/vimrc.bundles
    ~/.ctags: vim/ctags
    ~/.zshrc: zshrc

- shell:
    - ['[[ -d ~/.oh-my-zsh ]] || sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"', Install oh-my-zsh.]
    - [./homebrew.sh, Install homebrew.]
    - [./homebrew_pkg.sh, Install homebrew package.]
    - [./homebrew_cask.sh, Install homebrew cask.]
    - ['[[ -d ~/.vim/bundle/Vundle.vim ]] || git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim', Clone Vundle.]

- link:
    ~/Library/Rime/: 
        glob: true
        path: rime/*.custom.yaml

- shell:
    - ['/Library/Input\ Methods/Squirrel.app/Contents/MacOS/Squirrel --reload', Reload Squirrel config.]

